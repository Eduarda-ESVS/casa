{% extends "layouts/base.njk" %}

{% block header %}
<div class="container">
  <h1>{{ title }}</h1>
</div>
<script src="{{ '/assets/leaflet/leaflet.js' | url }}"></script>
{% endblock %}

{% block content %}
<div class="container">
  <div class="row align-items-md-stretch">

    <div class="col col-md-8 order-2">
      {{ content | safe }}
    </div><!--/.col-md-8-->

    <div class="col col-md-4 order-1">
      <div class="card">
        <div id="map" class="card-img-top" style="width: 100%; height: 400px;"></div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            {% if location.country %}
              {{ location.country | countryEmoji }}
              {{ ui[location.country] }}
              ›
            {% endif %}
            {% if location.state %}
              {{ location.state }}
              ›
            {% endif %}
            {{ location.city }}
          </li>
          <li class="list-group-item">Outras referências</li>
        </ul>
      </div><!--/.card-->
    </div><!--/.col-md-4-->

  </div><!--/.row-->
</div><!--/.container-->
{% endblock %}

{% block after %}
{% if dwg %}
{% endif %}

{% if docs %}
{% endif %}

{% if media %}
<div class="container-fluid text-center">
  <h2 id="iconografia" style="text-transform: capitalize;">{{ ui.iconography }}</h2>
  <div class="row g-3 mx-3">
    {% include "partials/album.njk" %}
  </div><!--/.row-->
</div><!--/.container-fluid-->
{% endif %}

{% if references %}
{% endif %}

<!--Leaflet map generator-->
<script>
  const map = L.map('map').setView([{{ location.lat }}, {{ location.long }}], {{ location.zoom }});
  const marker = L.marker([{{ location.lat }}, {{ location.long }}]).addTo(map);
  const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
  }).addTo(map);
</script>
<!--/Leaflet map generator-->

{% set prevStep = collections.casa | getPreviousCollectionItem %}
{% set nextStep = collections.casa | getNextCollectionItem %}
{% endblock %}
